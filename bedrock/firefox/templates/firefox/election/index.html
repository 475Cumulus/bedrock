{# This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/. #}

{% from "macros-protocol.html" import hero, content_card with context %}

{% extends "firefox/base/base-protocol.html" %}

{% block page_title %}EU Election{% endblock %}
{% block page_desc %}Decode political ad targeting and keep trackers off your trail with these resources and tools.{% endblock %}
{% block page_image %}{{ static('img/firefox/election/share.png') }}{% endblock %}

{% block page_css %}
  {{ css_bundle('firefox_election') }}
{% endblock %}

{% block body_id %}election{% endblock %}

{% block body_class %}election{% endblock %}

{% block site_header %}
  {% include 'includes/protocol/navigation/menu-firefox/index.html' %}
{% endblock %}

{% block content %}
<main class="mzp-t-firefox">

  {% call hero(
    title='This election, the web needs your vote and your choice',
    class='mzp-has-image mzp-t-firefox',
    heading_level=1,
    ) %}
  {% endcall %}

  <div class="mzp-l-content">
    <div id="coral_thread"></div>
    <script type="text/javascript">
      (function() {
          var d = document, s = d.createElement('script');
          s.src = 'https://firefox.coral.coralproject.net/assets/js/embed.js';
          s.async = false;
          s.defer = true;
          s.onload = function() {
              Coral.createStreamEmbed({
                  id: "coral_thread",
                  autoRender: true,
                  rootURL: 'https://firefox.coral.coralproject.net',
                  // Uncomment these lines and replace with the ID of the
                  // story's ID and URL from your CMS to provide the
                  // tightest integration. Refer to our documentation at
                  // https://docs.coralproject.net for all the configuration
                  // options.
                  // storyID: '${storyID}',
                  // storyURL: '${storyURL}',
              });
          };
          (d.head || d.body).appendChild(s);
      })();
    </script>
  </div>

</main>
{% endblock %}

{% block js %}
  {{ js_bundle('firefox_election') }}
{% endblock %}
